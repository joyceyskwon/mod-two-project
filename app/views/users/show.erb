<%= stylesheet_link_tag "application" %>
    <h1><%= @user.username.capitalize %></h1>

    <% if current_user.id != @user.id %>
      <p><%= @user.username.capitalize %> has <%= @user.followers.count %> follower(s)</p>

  <% if current_user.following?(@user) %>
        <%= button_to 'Unfollow', unfollow_path(followed_id:  @user.id), method: :delete, class: 'btn btn-primary', remote: true %><br>
        <br>
  <% else %>
        <%= button_to 'Follow', follow_path(followed_id:  @user.id), method: :post, class: 'btn btn-primary', remote: true %><br>
        <br>
  <% end %>

      <% @user.lists.each do |list| %>
        <%= link_to list.list_name, list %>
        <p><%= list.restaurants.count %> spots</p>
      <% end %>

      <%= link_to 'Back to my profile', user_path(current_user), class: "link-to" %><br>
    <% end %>

<% if current_user.id == @user.id %>

  <p>You have <%= current_user.followers.count %> follower(s)</p>
  <%= button_to 'Update Account', edit_user_path(@user), method: :get, class: 'btn btn-primary', remote: true %>
  <br>
  <%= button_to 'Logout', logout_path, method: :delete, class: 'btn btn-primary', remote: true  %>
  <br>
  <%= button_to 'Deactivate', @user, method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-primary', remote: true %>
  <br>

      <h4>You are currently following:</h4>

        <% current_user.followeds.each do |followed| %>
          <%= link_to followed.username.capitalize, followed, class: "link-to" %>
        <% end %>

        <%= button_to 'See more users you can follow', users_path, method: :get, class: 'btn btn-primary', remote: true %>
<br>
<br>
      <h4>Your List</h4>

        <p>You have <%= current_user.lists.count %> list(s).</p>
        <% current_user.lists.each do |list| %>
          <%= link_to list.list_name.capitalize, list, class: "link-to" %> â€“ <%= list.restaurants.count %> spot(s)
        <% end %>

      <%= button_to 'Create a new list', new_list_path, method: :get, class: 'btn btn-primary', remote: true %>


<% end %>
